{
  "Logging": {
    "LogLevel": {
      "Default": "Information"
    },
    "NLog": {
      "IncludeScopes": true
    }
  },
  "NLog": {
    "throwConfigExceptions": true,
    "extensions": [
      { "assembly": "NLog.MailKit" }
    ],
    "targets": {
      "async": true,
      "logfile": {
        "type": "File",
        "fileName": "./log/nlog-${shortdate}.log"
      },
      "logconsole": {
        "type": "ColoredConsole",
        "useDefaultRowHighlightingRules": false,
        "wordHighlightingRules ": [
          {
            "foregroundColor": "Green",
            "ignoreCase": true,
            "text": "info",
            "wholeWords": true
          },
          {
            "foregroundColor": "Blue",
            "ignoreCase": true,
            "text": "debug",
            "wholeWords": true
          },
          {
            "foregroundColor": "Red",
            "ignoreCase": true,
            "text": "error",
            "wholeWords": true
          }
        ]
      },
      "mailFallback": {
        "type": "FallbackGroup",
        "returnToFirstOnSuccess": true,
        "targets": {
          "mainmail": {
            "type": "Mail",
            "smtpAuthentication": "Basic",
            "smtpUserName": "xxxxxxxxx@yandex.ru",
            "smtpPassword": "xxxxxxxxx",
            "subject": "log-${shortdate}",
            "to": "xxxxxxxxx@yandex.ru",
            "from": "xxxxxxxxx@yandex.ru",
            "smtpServer": "smtp.yandex.ru",
            "smtpPort": "25"
          }
        }
      }
    },
    "rules": [
      {
        "logger": "*",
        "minLevel": "Debug",
        "writeTo": "logconsole",
        "filterDefaultAction": "Log",
        "filters": [
          {
            "type": "when",
            "action": "Ignore",
            // NOTE: ConsoleTarget ignore message with `[EMAIL]` tag
            "condition": "contains('${message}','[EMAIL]')"
          }
        ]
      },
      {
        "logger": "*",
        "minLevel": "Debug",
        "writeTo": "logfile"
      },
      {
        "logger": "*",
        "minLevel": "Trace",
        "writeTo": "mainmail",
        "filterDefaultAction": "Ignore",
        "filters": [
          {
            "type": "when",
            "action": "Log",
            // NOTE: MailTarget ignore all message without `[EMAIL]` tag
            "condition": "contains('${message}','[EMAIL]')"
          }
        ]
      }
    ]
  },
  "ConnectionStrings": {
    "StorageDb": "Data Source=./bin/Debug/storage.db"
  },
  "AllowedHosts": "*",
  "MailingServiceSettings": {
    "SenderEmail": "qwerty@yandex.ru",
    "SenderEmailPassword": "passwd",
    "SenderServer": "smtp.yandex.ru",
    "SenderServerPort": "25"
  }
}
